<mat-tab-group [color]="color">
    <mat-tab *ngIf="passwordResetWished" label="Passwort zurücksetzen">
        <form [formGroup]="resetPasswordFormGroup" (ngSubmit)="resetPasswordFormGroup.valid && resetPassword()">
            <mat-card>
                <mat-card-header fxLayoutAlign="end">
                    <button mat-icon-button
                            [color]="color"
                            matTooltip="schließen"
                            matTooltipPosition="above"
                            (click)="passwordResetWished = false">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-card-header>
                <mat-card-content>
                    <mat-form-field class="full-width">
                        <input matInput
                               [readonly]="passReset"
                               placeholder="E-Mail-Adresse zum Passwort zurücksetzen"
                               formControlName="email"
                               required>
                        <mat-icon matSuffix [color]="color">email</mat-icon>
                        <mat-error *ngIf="resetPasswordEmailFormControl.hasError('required')">
                            E-Mail ist erforderlich um das Passwort zurückzusetzen!
                        </mat-error>
                        <mat-error *ngIf="resetPasswordEmailFormControl.hasError('pattern')">
                            Bitte geben Sie eine gültige E-Mail-Adresse ein
                        </mat-error>
                    </mat-form-field>
                </mat-card-content>
                <mat-card-actions fxLayoutAlign="center">
                    <button mat-raised-button
                            type="submit"
                            [color]="color"
                            [disabled]="passReset">
                        Zurücksetzen
                    </button>
                </mat-card-actions>
                <mat-card-footer *ngIf="passReset" fxLayoutAlign="center">
                    <p>Zurücksetzen angefordert. Überprüfen Sie Ihre E-Mail-Anweisungen.</p>
                </mat-card-footer>
            </mat-card>
        </form>
    </mat-tab>
    <mat-tab label="Anmelden">
        <mat-card>
            <mat-card-content>
                <form [formGroup]="signInFormGroup"
                      (ngSubmit)="signInFormGroup.valid &&
                               authProcess.signInWith
                               (providers.EmailAndPassword,signInFormGroup.value.email,signInFormGroup.value.password)">
                    <div fxLayout="column" fxLayoutAlign="center center">
                        <mat-form-field>
                            <input matInput
                                   placeholder="E-Mail-Adresse"
                                   formControlName="email"
                                   required>
                            <mat-icon matSuffix [color]="color">email</mat-icon>
                            <mat-error *ngIf="signInEmailFormControl.hasError('required')">
                                E-Mail ist erforderlich
                            </mat-error>
                            <mat-error *ngIf="signInEmailFormControl.hasError('pattern')">
                                Bitte geben Sie eine gültige E-Mail-Adresse ein
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput
                                   type="password"
                                   placeholder="Passwort"
                                   minlength="6"
                                   maxlength="25"
                                   formControlName="password"
                                   required>
                            <mat-icon matSuffix [color]="color">lock</mat-icon>
                            <mat-hint align="end" aria-live="polite">
                                {{signInFormGroup.value.password.length}} / 25
                            </mat-hint>
                            <mat-error *ngIf="sigInPasswordFormControl.hasError('required')">
                                Bitte das Passwort nicht vergessen
                            </mat-error>
                            <mat-error *ngIf="sigInPasswordFormControl.hasError('minlength')">
                                Das Passwort muss mindestens 6 Zeichen lang sein.
                            </mat-error>
                            <mat-error *ngIf="sigInPasswordFormControl.hasError('maxlength')">
                                Das Passwort darf nicht länger als 25 Zeichen sein.
                            </mat-error>
                        </mat-form-field>
                        <button mat-raised-button
                                type="submit"
                                class="space-top"
                                [color]="color">
                            Anmelden
                        </button>
                    </div>
                </form>
                <div fxLayoutAlign="center">
                    <button mat-button
                            class="space-top"
                            [color]="color"
                            (click)="passwordResetWished = true">
                        Passwort vergessen?
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </mat-tab>
    <mat-tab label="Registrieren">
        <mat-card>
            <mat-card-title>Registration</mat-card-title>
            <div *ngIf="!authProcess.emailConfirmationSent; then register else confirm"></div>
            <ng-template #register>
                <mat-card-content>
                    <form [formGroup]="signUpFormGroup" (ngSubmit)="signUpFormGroup.valid &&
                               authProcess.signUp
                               (signUpFormGroup.value.name,signUpFormGroup.value.email,signUpFormGroup.value.password)">
                        <div fxLayout="column" fxLayoutAlign="center center">
                            <mat-form-field>
                                <input matInput
                                       placeholder="Name"
                                       minlength="2"
                                       maxlength="30"
                                       [formControl]="sigUpNameFormControl"
                                       required>
                                <mat-icon matSuffix [color]="color">person</mat-icon>
                                <mat-hint align="end" aria-live="polite">
                                    {{signUpFormGroup.value.name.length}} / 25
                                </mat-hint>
                                <mat-error *ngIf="sigUpNameFormControl.hasError('required')">
                                    E-Mail ist erforderlich
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('minlength')">
                                    Der Name ist zu kurz!
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('maxlength')">
                                    Der Name ist zu lang!
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput
                                       placeholder="E-Mail-Adresse"
                                       [formControl]="sigUpEmailFormControl">
                                <mat-icon matSuffix [color]="color">email</mat-icon>
                                <mat-error *ngIf="sigUpEmailFormControl.hasError('required')">
                                    E-Mail ist erforderlich
                                </mat-error>
                                <mat-error *ngIf="sigUpEmailFormControl.hasError('pattern')">
                                    Bitte geben Sie eine gültige E-Mail-Adresse ein
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput
                                       placeholder="Passwort"
                                       type="password"
                                       name="password"
                                       [formControl]="sigUpPasswordFormControl"
                                       required>
                                <mat-icon matSuffix [color]="color">lock</mat-icon>
                                <mat-hint align="end" aria-live="polite">
                                    {{signUpFormGroup.value.password.length}} / 25
                                </mat-hint>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('required')">
                                    Bitte das Passwort nicht vergessen
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('minlength')">
                                    Das Passwort muss mindestens 6 Zeichen lang sein.
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('maxlength')">
                                    Das Passwort darf nicht länger als 25 Zeichen sein.
                                </mat-error>
                            </mat-form-field>
                            <!--
                            <mat-form-field>
                                <input matInput
                                       placeholder="Passwort bestätigen"
                                       type="password"
                                       name="passwordConfirmation"
                                       required>
                                <mat-hint align="end" aria-live="polite">
                                    {{signUpFormGroup.value.password.length}} / 25
                                </mat-hint>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('required')">
                                    Bitte das Passwort nicht vergessen
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('minlength')">
                                    Das Passwort muss mindestens 6 Zeichen lang sein.
                                </mat-error>
                                <mat-error *ngIf="sigUpPasswordFormControl.hasError('maxlength')">
                                    Das Passwort darf nicht länger als 25 Zeichen sein.
                                </mat-error>
                            </mat-form-field>
                            -->
                            <button mat-raised-button
                                    style="margin-top: 20px"
                                    type="submit"
                                    [color]="color">
                                Register
                            </button>
                        </div>
                    </form>
                </mat-card-content>
            </ng-template>
            <ng-template #confirm>
                <ngx-auth-firebaseui-email-confirmation>
                </ngx-auth-firebaseui-email-confirmation>
            </ng-template>
        </mat-card>
    </mat-tab>
</mat-tab-group>
<mat-divider></mat-divider>
<ngx-auth-firebaseui-providers></ngx-auth-firebaseui-providers>
